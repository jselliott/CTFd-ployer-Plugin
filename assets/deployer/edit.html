{% extends "deployer/deployer.html" %}

{% block deployer_content %}
<h3>Edit Challenge</h3>
<form method="POST" action="/admin/deployer/challenge/{{ deployer.id }}">
  <div class="form-group">
    <label for="chalid">Challenge:</label>
    <select class="form-control" id="chalid" name="chalid">
        {% for challenge in challenges %}
        <option value='{{ challenge.id }}'{% if challenge.id == deployer.chalid %} selected{% endif %}>{{ challenge.name }}</option>
        {% else %}
          <option value=''>No challenges found.</option>
        {% endfor %}
    </select>
  </div>
  <div class="form-group">
    <label for="image">Docker Image:</label>
    <input type="text" class="form-control" id="image" name="image" value="{{ deployer.image }}" placeholder="alpine:latest">
  </div>
  <div class="form-group">
    <label for="port">Service Port:</label>
    <input type="text" class="form-control" id="port" name="port" value="{{ deployer.port }}" placeholder="1337">
  </div>
  <div class="form-group">
    <label for="timeout">Timeout (sec.):</label>
    <input type="text" class="form-control" id="timeout" name="timeout" value="{{ deployer.timeout }}" placeholder="300">
  </div>
  <input type="hidden" value="{{ Session.nonce }}" name="nonce" id="nonce" />
  <button type="submit" class="btn btn-primary">Save</button>
  <a href="/admin/deployer/challenges" class="btn btn-primary">Back</a>
</form>
{% endblock %}
